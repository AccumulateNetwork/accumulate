include:
- template: Jobs/Dependency-Scanning.gitlab-ci.yml
- template: Jobs/SAST.gitlab-ci.yml
- template: Jobs/Secret-Detection.gitlab-ci.yml

gemnasium-dependency_scanning:
  rules:
  - if: $CI_PIPELINE_SOURCE

semgrep-sast:
  rules:
  - if: $CI_PIPELINE_SOURCE

secret_detection:
  rules:
  - if: $CI_PIPELINE_SOURCE

code_intelligence:
  image: sourcegraph/lsif-go:v1
  allow_failure: true
  script:
    - lsif-go
  artifacts:
    reports:
      lsif: dump.lsif
