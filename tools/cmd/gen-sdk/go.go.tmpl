// Copyright 2022 The Accumulate Authors
//
// Use of this source code is governed by an MIT-style
// license that can be found in the LICENSE file or at
// https://opensource.org/licenses/MIT.

package {{.Package}}

// GENERATED BY go run ./tools/cmd/gen-sdk. DO NOT EDIT.

import (
	"context"
	"encoding/json"

	"gitlab.com/accumulatenetwork/accumulate/internal/api/v2"
	"gitlab.com/accumulatenetwork/accumulate/protocol"
)

{{define "call"}}
err := c.RequestAPIv2(ctx, "{{.RPC}}", req, &resp)
if err != nil {
	return nil, err
}
{{end}}

{{range .Methods}}
{{- if .Description}}
// {{.Name}} {{.Description}}.{{end}}
{{- if .Experimental}}
//
// WARNING: EXPERIMENTAL! {{end}}
{{- if eq .Kind "execute"}}
func (c *Client) {{.Name}}(ctx context.Context, req *api.TxRequest) (*api.TxResponse, error) {
	var resp api.TxResponse
	{{template "call" .}}
	return &resp, nil
}
{{else if .Input}}
func (c *Client) {{.Name}}(ctx context.Context, req {{ioParam .Input}}) ({{ioParam .Output}}, error) {
	var resp {{outputVar .Output}}
	{{template "call" .}}
	return {{outputRet .Output}}, nil
}
{{else}}
func (c *Client) {{.Name}}(ctx context.Context) ({{ioParam .Output}}, error) {
	var req struct{}
	var resp {{outputVar .Output}}
	{{template "call" .}}
	return {{outputRet .Output}}, nil
}
{{end}}
{{end}}