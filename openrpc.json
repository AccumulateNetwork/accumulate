{
	"openrpc": "1.2.4",
	"info": {
		"title": "Accumulate API",
		"description": "A public JSON RPC API of the Accumulate Node",
		"version": "0.1.0",
		"license": {
			"name": "MIT"
		}
	},
	"methods": [
		{
			"name": "identity",
			"summary": "Get Identity info",
			"tags": [
				{
					"name": "identity"
				}
			],
			"params": [
				{
					"name": "url",
					"summary": "Accumulate URL",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/identityURL"
					}
				}
			],
			"result": {
				"name": "Identity",
				"schema": {
					"$ref": "#/components/schemas/identity"
				}
			},
			"errors": [
				{
					"code": -32901,
					"message": "invalid identity url"
				},
				{
					"code": -32902,
					"message": "identity does not exist"
				}
			]
		},
		{
			"name": "identity-create",
			"summary": "Create Identity",
			"tags": [
				{
					"name": "identity"
				}
			],
			"params": [
				{
					"name": "identity",
					"summary": "New Identity",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/identity"
					}
				},
				{
					"name": "signer",
					"summary": "Existing Accumulate Identity signing the creation of new Identity",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/signer"
					}
				},
				{
					"name": "timestamp",
					"summary": "Unix timestamp",
					"required": true,
					"schema": {
						"type": "integer"
					}
				},
				{
					"name": "sig",
					"summary": "Signature",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/hex"
					}
				}
			],
			"result": {
				"name": "Identity",
				"schema": {
					"$ref": "#/components/schemas/identity"
				}
			},
			"errors": [
				{
					"code": -32901,
					"message": "invalid identity url"
				},
				{
					"code": -32801,
					"message": "invalid signer identity"
				},
				{
					"code": -32802,
					"message": "invalid signature"
				},
				{
					"code": -32803,
					"message": "invalid timestamp"
				}
			]
		},
		{
			"name": "token",
			"summary": "Get Token info",
			"tags": [
				{
					"name": "token"
				}
			],
			"params": [
				{
					"name": "url",
					"summary": "Accumulate URL",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/fullURL"
					}
				}
			],
			"result": {
				"name": "Token",
				"schema": {
					"$ref": "#/components/schemas/token"
				}
			},
			"errors": [
				{
					"code": -33001,
					"message": "invalid token url"
				},
				{
					"code": -33002,
					"message": "token does not exist"
				}
			]
		},
		{
			"name": "token-create",
			"summary": "Create Token",
			"tags": [
				{
					"name": "token"
				}
			],
			"params": [
				{
					"name": "token",
					"summary": "New Token",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/token"
					}
				},
				{
					"name": "signer",
					"summary": "Accumulate Identity signing the creation of new Token",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/signer"
					}
				},
				{
					"name": "timestamp",
					"summary": "Unix timestamp",
					"required": true,
					"schema": {
						"type": "integer"
					}
				},
				{
					"name": "sig",
					"summary": "Signature",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/hex"
					}
				}
			],
			"result": {
				"name": "Token",
				"schema": {
					"$ref": "#/components/schemas/token"
				}
			},
			"errors": [
				{
					"code": -33001,
					"message": "invalid token url"
				},
				{
					"code": -32801,
					"message": "invalid signer identity"
				},
				{
					"code": -32802,
					"message": "invalid signature"
				},
				{
					"code": -32803,
					"message": "invalid timestamp"
				}
			]
		},
		{
			"name": "token-account",
			"summary": "Get Token Account info",
			"tags": [
				{
					"name": "token"
				}
			],
			"params": [
				{
					"name": "url",
					"summary": "Accumulate URL",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/fullURL"
					}
				}
			],
			"result": {
				"name": "Token Account with Balance",
				"schema": {
					"$ref": "#/components/schemas/tokenAccountWithBalance"
				}
			},
			"errors": [
				{
					"code": -34001,
					"message": "invalid token account url"
				},
				{
					"code": -34002,
					"message": "token account does not exist"
				}
			]
		},
		{
			"name": "token-account-create",
			"summary": "Create Token Account",
			"tags": [
				{
					"name": "token"
				}
			],
			"params": [
				{
					"name": "tokenAccount",
					"summary": "New Token Account",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/tokenAccount"
					}
				},
				{
					"name": "signer",
					"summary": "Accumulate Identity signing the creation of new Token Account",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/signer"
					}
				},
				{
					"name": "timestamp",
					"summary": "Unix timestamp",
					"required": true,
					"schema": {
						"type": "integer"
					}
				},
				{
					"name": "sig",
					"summary": "Signature",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/hex"
					}
				}
			],
			"result": {
				"name": "Token Account",
				"schema": {
					"$ref": "#/components/schemas/tokenAccount"
				}
			},
			"errors": [
				{
					"code": -34001,
					"message": "invalid token account url"
				},
				{
					"code": -33001,
					"message": "invalid token url"
				},
				{
					"code": -32801,
					"message": "invalid signer identity"
				},
				{
					"code": -32802,
					"message": "invalid signature"
				},
				{
					"code": -32803,
					"message": "invalid timestamp"
				}
			]
		},
		{
			"name": "token-tx-create",
			"summary": "Create Token Transaction",
			"tags": [
				{
					"name": "token"
				}
			],
			"params": [
				{
					"name": "tx",
					"summary": "New Token Transaction",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/tokenTx"
					}
				},
				{
					"name": "signer",
					"summary": "Accumulate Identity signing the transaction",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/signer"
					}
				},
				{
					"name": "timestamp",
					"summary": "Unix timestamp",
					"required": true,
					"schema": {
						"type": "integer"
					}
				},
				{
					"name": "sig",
					"summary": "Signature",
					"required": true,
					"schema": {
						"$ref": "#/components/schemas/hex"
					}
				}
			],
			"result": {
				"name": "Token Tx",
				"schema": {
					"$ref": "#/components/schemas/tokenTx"
				}
			},
			"errors": [
				{
					"code": -34001,
					"message": "invalid token address url"
				},
				{
					"code": -32801,
					"message": "invalid signer identity"
				},
				{
					"code": -32802,
					"message": "invalid signature"
				},
				{
					"code": -32803,
					"message": "invalid timestamp"
				}
			]
		}
	],
	"components": {
		"schemas": {
			"sha256": {
				"type": "string",
				"pattern": "^[0-9a-f]+$"
			},
			"hex": {
				"type": "string",
				"pattern": "^[0-9a-f]+$"
			},
			"identityURL": {
				"type": "string",
				"pattern": "^[0-9a-z]+$"
			},
			"chainURL": {
				"type": "string",
				"pattern": "^[0-9a-zA-Z._-]+$"
			},
			"fullURL": {
				"type": "string",
				"pattern": "^[0-9a-zA-Z._-/]+$"
			},
			"identity": {
				"title": "Identity",
				"type": "object",
				"properties": {
					"url": {
						"title": "Identity URL",
						"description": "Identity name",
						"$ref": "#/components/schemas/identityURL"
					},
					"publicKeyHash": {
						"title": "Public Key Hash",
						"description": "SHA-256 hash of Identity Public Key",
						"$ref": "#/components/schemas/sha256"
					}
				}
			},
			"signer": {
				"title": "Signer",
				"type": "object",
				"properties": {
					"url": {
						"title": "Signer Identity URL",
						"description": "Identity name",
						"$ref": "#/components/schemas/identityURL"
					},
					"publicKey": {
						"title": "Public Key",
						"description": "Identity Public Key in hex format",
						"$ref": "#/components/schemas/hex"
					}
				}
			},
			"token": {
				"title": "Token",
				"type": "object",
				"properties": {
					"url": {
						"title": "Token URL",
						"description": "Token URL",
						"$ref": "#/components/schemas/fullURL"
					},
					"symbol": {
						"title": "Token symbol",
						"description": "Token ticker",
						"type": "string"
					},
					"precision": {
						"title": "Token precision",
						"description": "All transactions will need to specify input/output amounts in integer units Ã— 10^precision",
						"type": "integer",
						"maximum": 18,
						"minimum": 0
					}
				}
			},
			"tokenAccount": {
				"title": "Token Account",
				"type": "object",
				"properties": {
					"url": {
						"title": "Token Account URL",
						"description": "Token Account URL",
						"$ref": "#/components/schemas/fullURL"
					},
					"tokenURL": {
						"title": "Token URL",
						"description": "Token URL",
						"type": "string",
						"$ref": "#/components/schemas/fullURL"
					}
				}
			},
			"tokenAccountWithBalance": {
				"title": "Token Account with Balance",
				"type": "object",
				"properties": {
					"url": {
						"title": "Token Account URL",
						"description": "Token Account URL",
						"$ref": "#/components/schemas/fullURL"
					},
					"tokenURL": {
						"title": "Token URL",
						"description": "Token URL",
						"type": "string",
						"$ref": "#/components/schemas/fullURL"
					},
					"balance": {
						"title": "Balance",
						"description": "Token Account balance",
						"type": "integer"
					}
				}
			},
			"tokenTx": {
				"title": "Token Tx",
				"type": "object",
				"properties": {
					"from": {
						"title": "Sender Token Account",
						"description": "Token Account URL",
						"$ref": "#/components/schemas/fullURL"
					},
					"to": {
						"title": "Receiver(s) Token Account(s)",
						"description": "Token Account URL",
						"type": "array",
						"items": {
							"title": "Receiver Token Account",
							"description": "Token Account URL and amount",
							"type": "object",
							"properties": {
								"url": {
									"title": "Token Account URL",
									"description": "Token Account URL",
									"$ref": "#/components/schemas/fullURL"
								},
								"amount": {
									"title": "Amount",
									"description": "Number of tokens",
									"type": "integer"
								}
							}
						}
					},
					"meta": {
						"title": "Metadata",
						"description": "Transaction Metadata",
						"type": "string"
					}
				}
			}
		}
	}
}
