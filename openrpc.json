{
    "components": {
        "schemas": {
            "adi": {
                "properties": {
                    "publicKey": {
                        "$ref": "#/components/schemas/hex",
                        "description": "ADI Public Key",
                        "title": "ADI Public Key"
                    },
                    "url": {
                        "$ref": "#/components/schemas/adiURL",
                        "description": "Accumulate ADI URL",
                        "title": "ADI URL"
                    }
                },
                "title": "ADI (Accumulate Digital Identity)",
                "type": "object"
            },
            "hex": {
                "pattern": "^[0-9a-f]+$",
                "type": "string"
            },
            "keyBook": {
                "description": "Previously called Signature Specification Group",
                "properties": {
                    "chainUrl": {
                        "$ref": "#/components/schemas/url",
                        "description": "URL",
                        "title": "URL"
                    },
                    "sigSpecs": {
                        "description": "Chain IDs of pages in the book",
                        "items": {
                            "$ref": "#/components/schemas/hex"
                        },
                        "title": "Key page IDs",
                        "type": "array"
                    }
                },
                "title": "Key Book",
                "type": "object"
            },
            "keyPage": {
                "description": "Previously called Signature Specification",
                "properties": {
                    "chainUrl": {
                        "$ref": "#/components/schemas/url",
                        "description": "URL",
                        "title": "URL"
                    },
                    "creditBalance": {
                        "description": "Credit balance",
                        "title": "Credit balance",
                        "type": "integer"
                    },
                    "keys": {
                        "description": "Keys specifications",
                        "items": {
                            "description": "A public key or public key hash",
                            "properties": {
                                "nonce": {
                                    "description": "Key nonce",
                                    "title": "Nonce",
                                    "type": "integer"
                                },
                                "publicKey": {
                                    "description": "Base64 encoded public key or public key hash",
                                    "title": "Public key or hash",
                                    "type": "string"
                                }
                            },
                            "title": "Key specification",
                            "type": "object"
                        },
                        "title": "Keys",
                        "type": "array"
                    },
                    "sigSpecId": {
                        "$ref": "#/components/schemas/hex",
                        "description": "Chain ID of the book the page belongs to",
                        "title": "Key book ID"
                    }
                },
                "title": "Key Page",
                "type": "object"
            },
            "tokenAccount": {
                "properties": {
                    "balance": {
                        "description": "Token Account balance",
                        "title": "Balance",
                        "type": "integer"
                    },
                    "creditBalance": {
                        "description": "Credit balance, for lite accounts",
                        "title": "Credit balance",
                        "type": "integer"
                    },
                    "nonce": {
                        "description": "Key nonce, for lite accounts",
                        "title": "Nonce",
                        "type": "integer"
                    },
                    "tokenURL": {
                        "$ref": "#/components/schemas/url",
                        "description": "Token Issuer URL",
                        "title": "Token URL",
                        "type": "string"
                    },
                    "url": {
                        "$ref": "#/components/schemas/url",
                        "description": "Token Account URL",
                        "title": "URL"
                    }
                },
                "title": "Token Account",
                "type": "object"
            },
            "tokenTx": {
                "properties": {
                    "from": {
                        "$ref": "#/components/schemas/url",
                        "description": "Token Account URL",
                        "title": "Sender Token Account"
                    },
                    "hash": {
                        "$ref": "#/components/schemas/hex",
                        "description": "Transaction Hash",
                        "title": "Hash"
                    },
                    "meta": {
                        "description": "Transaction Metadata",
                        "title": "Metadata",
                        "type": "string"
                    },
                    "to": {
                        "description": "Token Account URL",
                        "items": {
                            "description": "Token Account URL and amount",
                            "properties": {
                                "amount": {
                                    "description": "Number of tokens",
                                    "title": "Amount",
                                    "type": "integer"
                                },
                                "url": {
                                    "$ref": "#/components/schemas/url",
                                    "description": "Token Account URL",
                                    "title": "Token Account URL"
                                }
                            },
                            "title": "Receiver Token Account",
                            "type": "object"
                        },
                        "title": "Receiver(s) Token Account(s)",
                        "type": "array"
                    }
                },
                "title": "Token Tx",
                "type": "object"
            },
            "txKeyPage": {
                "properties": {
                    "height": {
                        "type": "integer"
                    },
                    "index": {
                        "type": "integer"
                    }
                },
                "type": "object"
            },
            "txSigner": {
                "properties": {
                    "nonce": {
                        "type": "integer"
                    },
                    "publicKey": {
                        "$ref": "#/components/schemas/hex"
                    }
                },
                "type": "object"
            },
            "url": {
                "pattern": "^(acc://)?[\\w-]+(/[\\w-.]+)*$",
                "type": "string"
            }
        }
    },
    "info": {
        "description": "A public JSON RPC API of the Accumulate Node",
        "license": {
            "name": "MIT"
        },
        "title": "Accumulate API",
        "version": "0.2.0"
    },
    "methods": [
        {
            "errors": [
                {
                    "code": -32901,
                    "message": "invalid adi url"
                },
                {
                    "code": -32902,
                    "message": "adi does not exist"
                }
            ],
            "name": "adi",
            "params": [
                {
                    "name": "url",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/url"
                    },
                    "summary": "Accumulate ADI URL"
                }
            ],
            "result": {
                "name": "ADI",
                "schema": {
                    "$ref": "#/components/schemas/adi"
                }
            },
            "summary": "Get ADI (Accumulate Digital Identity) info",
            "tags": [
                {
                    "name": "ADI"
                }
            ]
        },
        {
            "errors": [
                {
                    "code": -34001,
                    "message": "invalid token account url"
                },
                {
                    "code": -34002,
                    "message": "token account does not exist"
                }
            ],
            "name": "token-account",
            "params": [
                {
                    "name": "url",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/url"
                    },
                    "summary": "Accumulate Token Account URL"
                }
            ],
            "result": {
                "name": "Token Account",
                "schema": {
                    "$ref": "#/components/schemas/tokenAccount"
                }
            },
            "summary": "Get Token Account info",
            "tags": [
                {
                    "name": "token"
                }
            ]
        },
        {
            "errors": [
                {
                    "code": -34002,
                    "message": "invalid transaction hash"
                },
                {
                    "code": -34003,
                    "message": "transaction does not exist"
                }
            ],
            "name": "token-tx",
            "params": [
                {
                    "name": "hash",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/hex"
                    },
                    "summary": "Transaction Hash"
                }
            ],
            "result": {
                "name": "Token Transaction",
                "schema": {
                    "$ref": "#/components/schemas/tokenTx"
                }
            },
            "summary": "Get Token Transaction info",
            "tags": [
                {
                    "name": "token"
                }
            ]
        },
        {
            "name": "sig-spec",
            "params": [
                {
                    "name": "url",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/url"
                    },
                    "summary": "Accumulate Key Page URL"
                }
            ],
            "result": {
                "name": "Key Page",
                "schema": {
                    "$ref": "#/components/schemas/keyPage"
                }
            },
            "summary": "Get Key Page/Signature Specification info",
            "tags": [
                {
                    "name": "token"
                }
            ]
        },
        {
            "name": "sig-spec-group",
            "params": [
                {
                    "name": "url",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/url"
                    },
                    "summary": "Accumulate Key Group URL"
                }
            ],
            "result": {
                "name": "Key Group",
                "schema": {
                    "$ref": "#/components/schemas/keyBook"
                }
            },
            "summary": "Get Key Book/Signature Specification Group info",
            "tags": [
                {
                    "name": "token"
                }
            ]
        },
        {
            "errors": [
                {
                    "code": -32901,
                    "message": "invalid adi url"
                },
                {
                    "code": -32801,
                    "message": "invalid signer adi"
                },
                {
                    "code": -32802,
                    "message": "invalid signature"
                },
                {
                    "code": -32803,
                    "message": "invalid timestamp"
                }
            ],
            "name": "adi-create",
            "params": [
                {
                    "name": "wait",
                    "schema": {
                        "type": "boolean"
                    },
                    "summary": "Wait for the transaction to complete"
                },
                {
                    "name": "tx",
                    "required": true,
                    "schema": {
                        "properties": {
                            "data": {
                                "properties": {
                                    "keyBookName": {
                                        "description": "Override the default key book name",
                                        "type": "string"
                                    },
                                    "keyPageName": {
                                        "description": "Override the default key page name",
                                        "type": "string"
                                    },
                                    "publicKey": {
                                        "description": "Public key of the ADI (base64 encoded)",
                                        "type": "string"
                                    },
                                    "url": {
                                        "$ref": "#/components/schemas/url",
                                        "description": "Requested ADI URL"
                                    }
                                },
                                "type": "object"
                            },
                            "keyPage": {
                                "$ref": "#/components/schemas/txKeyPage"
                            },
                            "sig": {
                                "$ref": "#/components/schemas/hex"
                            },
                            "signer": {
                                "$ref": "#/components/schemas/txSigner"
                            },
                            "sponsor": {
                                "$ref": "#/components/schemas/url"
                            }
                        }
                    },
                    "summary": "Transaction"
                }
            ],
            "result": {
                "name": "ADI",
                "schema": {
                    "$ref": "#/components/schemas/adi"
                }
            },
            "summary": "Create ADI (Accumulate Digital Identity)",
            "tags": [
                {
                    "name": "ADI"
                }
            ]
        },
        {
            "errors": [
                {
                    "code": -34001,
                    "message": "invalid token account url"
                },
                {
                    "code": -33001,
                    "message": "invalid token url"
                },
                {
                    "code": -32801,
                    "message": "invalid signer adi"
                },
                {
                    "code": -32802,
                    "message": "invalid signature"
                },
                {
                    "code": -32803,
                    "message": "invalid timestamp"
                }
            ],
            "name": "token-account-create",
            "params": [
                {
                    "name": "tx",
                    "required": true,
                    "schema": {
                        "properties": {
                            "data": {
                                "properties": {
                                    "keyBookUrl": {
                                        "$ref": "#/components/schemas/url",
                                        "description": "Override the default key book assignment"
                                    },
                                    "tokenUrl": {
                                        "$ref": "#/components/schemas/url",
                                        "description": "Token issuer URL"
                                    },
                                    "url": {
                                        "$ref": "#/components/schemas/url",
                                        "description": "Requested token account URL"
                                    }
                                },
                                "type": "object"
                            },
                            "keyPage": {
                                "$ref": "#/components/schemas/txKeyPage"
                            },
                            "sig": {
                                "$ref": "#/components/schemas/hex"
                            },
                            "signer": {
                                "$ref": "#/components/schemas/txSigner"
                            },
                            "sponsor": {
                                "$ref": "#/components/schemas/url"
                            }
                        }
                    },
                    "summary": "Transaction"
                }
            ],
            "result": {
                "name": "Token Account",
                "schema": {
                    "$ref": "#/components/schemas/tokenAccount"
                }
            },
            "summary": "Create Token Account",
            "tags": [
                {
                    "name": "token"
                }
            ]
        },
        {
            "errors": [
                {
                    "code": -34001,
                    "message": "invalid token address url"
                },
                {
                    "code": -32801,
                    "message": "invalid signer adi"
                },
                {
                    "code": -32802,
                    "message": "invalid signature"
                },
                {
                    "code": -32803,
                    "message": "invalid timestamp"
                }
            ],
            "name": "token-tx-create",
            "params": [
                {
                    "name": "tx",
                    "required": true,
                    "schema": {
                        "properties": {
                            "data": {
                                "$ref": "#/components/schemas/tokenTx"
                            },
                            "keyPage": {
                                "$ref": "#/components/schemas/txKeyPage"
                            },
                            "sig": {
                                "$ref": "#/components/schemas/hex"
                            },
                            "signer": {
                                "$ref": "#/components/schemas/txSigner"
                            },
                            "sponsor": {
                                "$ref": "#/components/schemas/url"
                            }
                        }
                    },
                    "summary": "Transaction"
                }
            ],
            "result": {
                "name": "Token Tx",
                "schema": {
                    "$ref": "#/components/schemas/tokenTx"
                }
            },
            "summary": "Create Token Transaction",
            "tags": [
                {
                    "name": "token"
                }
            ]
        },
        {
            "name": "create-sig-spec-group",
            "params": [
                {
                    "name": "wait",
                    "schema": {
                        "type": "boolean"
                    },
                    "summary": "Wait for the transaction to complete"
                },
                {
                    "name": "tx",
                    "required": true,
                    "schema": {
                        "properties": {
                            "data": {
                                "properties": {
                                    "sigSpecs": {
                                        "description": "Chain IDs of unbound key pages to bind to the book",
                                        "items": {
                                            "$ref": "#/components/schemas/hex"
                                        },
                                        "title": "Key page IDs",
                                        "type": "array"
                                    },
                                    "url": {
                                        "$ref": "#/components/schemas/url",
                                        "description": "Requested key book URL"
                                    }
                                },
                                "type": "object"
                            },
                            "keyPage": {
                                "$ref": "#/components/schemas/txKeyPage"
                            },
                            "sig": {
                                "$ref": "#/components/schemas/hex"
                            },
                            "signer": {
                                "$ref": "#/components/schemas/txSigner"
                            },
                            "sponsor": {
                                "$ref": "#/components/schemas/url"
                            }
                        }
                    },
                    "summary": "Transaction"
                }
            ],
            "result": {
                "name": "Key Book",
                "schema": {
                    "$ref": "#/components/schemas/keyBook"
                }
            },
            "summary": "Create Key Book (previously Signature Specification Group)"
        },
        {
            "name": "create-sig-spec",
            "params": [
                {
                    "name": "wait",
                    "schema": {
                        "type": "boolean"
                    },
                    "summary": "Wait for the transaction to complete"
                },
                {
                    "name": "tx",
                    "required": true,
                    "schema": {
                        "properties": {
                            "data": {
                                "properties": {
                                    "keys": {
                                        "description": "Keys to add to the page",
                                        "items": {
                                            "description": "A public key or public key hash",
                                            "properties": {
                                                "publicKey": {
                                                    "description": "Base64 encoded public key or public key hash",
                                                    "title": "Public key or hash",
                                                    "type": "string"
                                                }
                                            },
                                            "title": "Key specification",
                                            "type": "object"
                                        },
                                        "title": "Keys",
                                        "type": "array"
                                    },
                                    "url": {
                                        "$ref": "#/components/schemas/url",
                                        "description": "Requested key page URL"
                                    }
                                },
                                "type": "object"
                            },
                            "keyPage": {
                                "$ref": "#/components/schemas/txKeyPage"
                            },
                            "sig": {
                                "$ref": "#/components/schemas/hex"
                            },
                            "signer": {
                                "$ref": "#/components/schemas/txSigner"
                            },
                            "sponsor": {
                                "$ref": "#/components/schemas/url"
                            }
                        }
                    },
                    "summary": "Transaction"
                }
            ],
            "result": {
                "name": "Key Page",
                "schema": {
                    "$ref": "#/components/schemas/keyPage"
                }
            },
            "summary": "Create Key Page (previously Signature Specification)"
        },
        {
            "name": "add-credits",
            "params": [
                {
                    "name": "wait",
                    "schema": {
                        "type": "boolean"
                    },
                    "summary": "Wait for the transaction to complete"
                },
                {
                    "name": "tx",
                    "required": true,
                    "schema": {
                        "properties": {
                            "data": {
                                "properties": {
                                    "amount": {
                                        "description": "Amount of credits to add",
                                        "type": "integer"
                                    },
                                    "recipient": {
                                        "$ref": "#/components/schemas/url",
                                        "description": "Recipient of the credits"
                                    }
                                },
                                "type": "object"
                            },
                            "keyPage": {
                                "$ref": "#/components/schemas/txKeyPage"
                            },
                            "sig": {
                                "$ref": "#/components/schemas/hex"
                            },
                            "signer": {
                                "$ref": "#/components/schemas/txSigner"
                            },
                            "sponsor": {
                                "$ref": "#/components/schemas/url"
                            }
                        }
                    },
                    "summary": "Transaction"
                }
            ],
            "summary": "Add credits to a lite account or key page"
        },
        {
            "name": "update-key-page",
            "params": [
                {
                    "name": "wait",
                    "schema": {
                        "type": "boolean"
                    },
                    "summary": "Wait for the transaction to complete"
                },
                {
                    "name": "tx",
                    "required": true,
                    "schema": {
                        "properties": {
                            "data": {
                                "properties": {
                                    "key": {
                                        "description": "Existing key, for update or remove, base64 encoded",
                                        "type": "string"
                                    },
                                    "newKey": {
                                        "description": "New key, for update or add, base64 encoded",
                                        "type": "string"
                                    },
                                    "operation": {
                                        "description": "Operation to execute",
                                        "enum": [
                                            "update",
                                            "add",
                                            "remove"
                                        ],
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            "keyPage": {
                                "$ref": "#/components/schemas/txKeyPage"
                            },
                            "sig": {
                                "$ref": "#/components/schemas/hex"
                            },
                            "signer": {
                                "$ref": "#/components/schemas/txSigner"
                            },
                            "sponsor": {
                                "$ref": "#/components/schemas/url"
                            }
                        }
                    },
                    "summary": "Transaction"
                }
            ],
            "summary": "Update a key page's keys"
        }
    ],
    "openrpc": "1.2.4"
}
