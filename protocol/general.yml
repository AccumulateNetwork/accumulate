# General data types

Object:
  fields:
    - name: Type
      description: is the object's type
      type: ObjectType
      marshal-as: enum
    - name: Chains
      description: lists the account's chains
      repeatable: true
      type: ChainMetadata
      marshal-as: reference
    - name: Pending
      description: lists the account's pending transactions
      type: HashSet
      marshal-as: reference

ChainMetadata:
  fields:
    - name: Name
      type: string
    - name: Type
      type: ChainType
      marshal-as: enum

AccountAuth:
  fields:
    - name: Authorities
      type: AuthorityEntry
      marshal-as: reference
      repeatable: true

AuthorityEntry:
  fields:
    - name: Url
      type: url
      pointer: true
    - name: Disabled
      description: disables auth checks for this authority, allowing anyone to sign for it
      type: bool

AnchorMetadata:
  embeddings:
    - ChainMetadata
  fields:
    - name: Account
      type: url
      pointer: true
    - name: Index
      type: uvarint
    - name: SourceIndex
      type: uvarint
    - name: SourceBlock
      type: uvarint
    - name: Entry
      type: bytes

AcmeOracle:
  fields:
    - name: Price
      type: uvarint

IndexEntry:
  description: represents an entry in an index chain
  fields:
    - name: Source
      description: is the index of the chain from which an anchor was taken
      type: uint
    - name: Anchor
      description: is the index of the chain into which the anchor was added. Omit when indexing the root anchor chain
      type: uint
    - name: BlockIndex
      description: is the index of the block. Only include when indexing the root anchor chain
      type: uint
    - name: BlockTime
      description: is the start time of the block. Only include when indexing the root anchor chain
      type: time
      pointer: true

DataEntry:
  fields:
    - name: Data
      repeatable: true
      type: bytes

DirectoryIndexMetadata:
  fields:
    - name: Count
      type: uvarint

Receipt:
  fields:
    - name: Start
      type: bytes
    - name: Result
      type: bytes
    - name: Entries
      repeatable: true
      type: ReceiptEntry
      marshal-as: reference

ReceiptEntry:
  fields:
    - name: Right
      type: bool
    - name: Hash
      type: bytes

HashSet:
  fields:
    - name: Hashes
      type: hash
      repeatable: true

TokenRecipient:
  fields:
    - name: Url
      type: url
      pointer: true
    - name: Amount
      type: bigint

ChainParams:
  fields:
    - name: Data
      type: bytes
    - name: IsUpdate
      type: bool

KeySpecParams:
  fields:
    - name: KeyHash
      type: bytes
    - name: Owner
      type: url
      pointer: true
      optional: true

AnchoredAccount:
  fields:
    - name: Account
      type: Account
      marshal-as: union
    - name: Anchor
      type: hash

KeySpec:
  fields:
    - name: PublicKeyHash
      type: bytes
      alternative: PublicKey
    - name: LastUsedOn
      type: uvarint
      alternative: Nonce
    - name: Owner
      type: url
      pointer: true

NetworkGlobals:
  fields:
    - name: ValidatorThreshold
      type: Rational
      marshal-as: reference

Rational:
  fields:
    - name: Numerator
      type: uint
    - name: Denominator
      type: uint
