# General data types

ObjectMetadata:
  fields:
    - name: Type
      type: ObjectType
      marshal-as: enum
    - name: Chains
      repeatable: true
      type: ChainMetadata
      marshal-as: reference

ChainMetadata:
  fields:
    - name: Name
      type: string
    - name: Type
      type: ChainType
      marshal-as: enum

AnchorMetadata:
  embeddings:
    - ChainMetadata
  fields:
    - name: Account
      type: url
      pointer: true
    - name: Index
      type: uvarint
    - name: SourceIndex
      type: uvarint
    - name: SourceBlock
      type: uvarint
    - name: Entry
      type: bytes

AcmeOracle:
  fields:
    - name: Price
      type: uvarint

IndexEntry:
  description: represents an entry in an index chain
  fields:
    - name: Source
      description: is the index of the chain from which an anchor was taken
      type: uint
    - name: Anchor
      description: is the index of the chain into which the anchor was added. Omit when indexing the root anchor chain
      type: uint
    - name: BlockIndex
      description: is the index of the block. Only include when indexing the root anchor chain
      type: uint
    - name: BlockTime
      description: is the start time of the block. Only include when indexing the root anchor chain
      type: time
      pointer: true

DataEntry:
  fields:
    - name: Data
      repeatable: true
      type: bytes

DirectoryIndexMetadata:
  fields:
    - name: Count
      type: uvarint

TransactionStatus:
  fields:
    - name: Remote
      type: bool
    - name: Delivered
      type: bool
    - name: Pending
      type: bool
    - name: Code
      type: uvarint
    - name: Message
      type: string
    - name: Result
      type: TransactionResult
      optional: true
      marshal-as: value
      zero-value: nil
      unmarshal-with: UnmarshalTransactionResult

Receipt:
  fields:
    - name: Start
      type: bytes
    - name: Result
      type: bytes
    - name: Entries
      repeatable: true
      type: ReceiptEntry
      marshal-as: reference

ReceiptEntry:
  fields:
    - name: Right
      type: bool
    - name: Hash
      type: bytes

HashSet:
  fields:
    - name: Hashes
      type: hash
      repeatable: true
