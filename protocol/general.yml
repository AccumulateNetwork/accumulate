# General data types

Object:
  fields:
  - name: Entry
    type: bytes
  - name: Height
    type: uvarint
  - name: Roots
    repeatable: true
    type: bytes

ObjectMetadata:
  fields:
    - name: Type
      type: ObjectType
      marshal-as: enum
    - name: Chains
      repeatable: true
      type: ChainMetadata
      marshal-as: reference
    - name: Substate
      repeatable: true
      type: string

ChainMetadata:
  fields:
    - name: Name
      type: string
    - name: Type
      type: ChainType
      marshal-as: enum

AnchorMetadata:
  embeddings:
    - ChainMetadata
  fields:
    - name: Account
      type: url
      pointer: true
    - name: Index
      type: uvarint
    - name: SourceIndex
      type: uvarint
    - name: SourceBlock
      type: uvarint
    - name: Entry
      type: bytes

AcmeOracle:
  fields:
    - name: Price
      type: uvarint

IndexEntry:
  description: represents an entry in an index chain
  fields:
    - name: Source
      description: is the index of the chain from which an anchor was taken
      type: uint
    - name: Anchor
      description: is the index of the chain into which the anchor was added. Omit when indexing the root anchor chain
      type: uint
    - name: BlockIndex
      description: is the index of the block. Only include when indexing the root anchor chain
      type: uint
    - name: BlockTime
      description: is the start time of the block. Only include when indexing the root anchor chain
      type: time
      pointer: true

DataEntry:
  fields:
    - name: ExtIds
      optional: true
      repeatable: true
      type: bytes
    - name: Data
      type: bytes
      optional: true

DirectoryIndexMetadata:
  fields:
    - name: Count
      type: uvarint

TransactionStatus:
  fields:
    - name: Remote
      type: bool
    - name: Delivered
      type: bool
    - name: Pending
      type: bool
    - name: Code
      type: uvarint
    - name: Message
      type: string
    - name: Synthetic
      type: SyntheticStatus
      marshal-as: reference
      pointer: true
    - name: Result
      type: TransactionResult
      optional: true
      marshal-as: value
      zero-value: nil
      unmarshal-with: UnmarshalTransactionResult

SyntheticStatus:
  fields:
    - name: GotSignature
      description: indicates that an ED25519 signature has been received
      type: bool
    - name: Source
      description: is the URL of the originating subnet
      type: url
      pointer: true
    - name: SourceAnchor
      description: is the block anchor of the transaction from the originating subnet
      type: hash
    - name: DirectoryAnchor
      description: is the block anchor of the transaction from the directory
      type: hash

HashSet:
  fields:
    - name: Hashes
      type: hash
      repeatable: true

Receipt:
  fields:
    - name: Start
      type: bytes
    - name: Result
      type: bytes
    - name: Entries
      repeatable: true
      type: ReceiptEntry
      marshal-as: reference

ReceiptEntry:
  fields:
    - name: Right
      type: bool
    - name: Hash
      type: bytes
