# Types used internally by the governor and executor


##### Accounts #####

InternalLedger:
  kind: chain
  fields:
    - name: Index
      type: varint
    - name: Timestamp
      type: time
    - name: Synthetic
      type: SyntheticLedger
      marshal-as: reference
    - name: Updates
      type: slice
      slice:
        type: AnchorMetadata
        marshal-as: reference

##### Transactions #####

InternalGenesis:
  kind: tx

InternalSendTransactions:
  kind: tx
  incomparable: true
  fields:
    - name: Transactions
      type: slice
      slice:
        type: SendTransaction
        marshal-as: reference

InternalTransactionsSigned:
  kind: tx
  fields:
    - name: Transactions
      type: slice
      slice:
        type: TransactionSignature
        marshal-as: reference

InternalTransactionsSent:
  kind: tx
  fields:
    - name: Transactions
      type: chainSet

##### Data Types #####

SyntheticLedger:
  fields:
    - name: Nonce
      type: uvarint
    - name: Produced
      type: chainSet
    - name: Unsigned
      type: chainSet
    - name: Unsent
      type: chainSet

SendTransaction:
  incomparable: true
  fields:
    - name: Payload
      type: TransactionPayload
      marshal-as: value
      unmarshal-with: UnmarshalTransaction
    - name: Recipient
      type: url.URL
      marshal-as: reference
      pointer: true

TransactionSignature:
  fields:
    - name: Transaction
      type: chain
    - name: Signature
      # type: Signature
      # marshal-as: value
      # unmarshal-with: UnmarshalSignature
      type: ED25519Sig
      marshal-as: reference
      pointer: true
