# Synthetic transaction bodies

SyntheticOrigin:
  fields:
    - name: Cause
      description: is the hash of the transaction that produced this transaction
      type: chain
    - name: Source
      description: is the principal of the cause
      type: url
      pointer: true
    - name: Initiator
      description: is the initiator of the cause
      type: url
      pointer: true
    - name: FeeRefund
      description: is portion of the cause's fee that will be refunded if this transaction fails
      type: uint

SyntheticCreateIdentity:
  union: { type: transaction }
  embeddings:
    - SyntheticOrigin
  fields:
    - name: Accounts
      type: Account
      marshal-as: union
      repeatable: true

SyntheticWriteData:
  union: { type: transaction }
  embeddings:
    - SyntheticOrigin
  fields:
    - name: Entry
      type: DataEntry
      marshal-as: reference

SyntheticDepositTokens:
  union: { type: transaction }
  embeddings:
    - SyntheticOrigin
  fields:
    - name: Token
      type: url
      pointer: true
    - name: Amount
      type: bigint

SystemAnchor:
  fields:
  - name: Source
    description: is the principal of the transaction that produced this transaction
    type: url
    pointer: true
  - name: Major
    description: indicates whether the anchor is a major block anchor
    type: bool
  - name: StateRoot
    description: is the root of the source's state tree (BPT)
    type: chain
  - name: RootAnchor
    description: is the anchor of the source's root anchor chain
    type: chain
  - name: RootIndex
    description: is the index of the root anchor chain anchor
    type: uvarint
  - name: Block
    description: is the index of the block
    type: uvarint
  - name: Receipts
    description: are receipts for anchors from other subnets that were included in the block
    type: Receipt
    repeatable: true
    marshal-as: reference

PartitionAnchor:
  union: { type: transaction }
  embeddings:
    - SystemAnchor
  fields:
    - name: AcmeBurnt
      description: is the amount of acme tokens burnt in the transaction
      type: bigint

DirectoryAnchor:
  union: { type: transaction }
  embeddings:
    - SystemAnchor
  fields:
    - name: AcmeOraclePrice
      type: uvarint
    - name: OperatorUpdates
      description: anchor-based synchronization updates from bvn
      type: KeyPageOperation
      repeatable: true
      marshal-as: reference

SyntheticDepositCredits:
  union: { type: transaction }
  embeddings:
    - SyntheticOrigin
  fields:
    - name: Amount
      type: uvarint

SyntheticBurnTokens:
  union: { type: transaction }
  embeddings:
    - SyntheticOrigin
  fields:
    - name: Amount
      type: bigint

MirrorSystemRecords:
  union: { type: transaction }
  fields:
    - name: Objects
      repeatable: true
      type: AnchoredAccount
      marshal-as: reference

SyntheticForwardTransaction:
  union: { type: transaction, value: SyntheticForwardTransaction }
  fields:
    - name: Signatures
      type: ForwardedSignature
      marshal-as: reference
      repeatable: true
    - name: Transaction
      type: Transaction
      marshal-as: reference
      pointer: true
      optional: true

SegWitDataEntry:
  union: { type: transaction }
  embeddings:
    - SyntheticOrigin
  fields:
    - name: EntryUrl
      type: url
      pointer: true
    - name: EntryHash
      type: chain
